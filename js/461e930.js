sek = '00';
min = '02'; 
za = '10'; 

imiona = ['martyna101', 'maniek', 'martyna10', 'klaudia2', 'weronika12', 'niko2005', 'medmen', 'Pasztecik_12', 'el_Szymson', 'bartusiekk', 'Damian1337', 'TEKIENTOEZZ', 'sebagra0909', 'Catek', 'zobacz_sam', 'mokizfoki', 'domi1234!', 'Michalek', 'snakepl1', 'pomek', 'Julix1315', 'Kwitek123', 'FRszu', 'karolina@wp.', 'konduktor123', 'konduktor', 'Olis123', 'Olka', 'Kacik_xxwif', 'Żyła', 'nikodem12356', 'EloMarian', '_patunia_89', 'kacper200', 'postrzynska', 'Amelcia', 'NieZnasz', 'lilili', 'Asti678', 'Fajna123', 'Maciej3212', 'Czarusia', 'Martella', 'piotrex2006', 'majaigruby', 'Ania242', 'PIOTRIX1', 'baxon', '_Xadam2115_', 'skks', 'KLOCEK_Lego', 'Kaxen', 'Kavsaa', 'Jolo192', 'matrix_125', 'antekYT', 'cwwww', 'Hania_XD', 'pudzian12345', 'Parówka', 'ula_tapak', 'ulka', 'patka', 'czip', 'natsuke', 'Szmaragdowa', 'Ciasteczkow9', 'Rabadon', 'Alan', 'David100100', 'David', 'radek123', 'matiii', 'dominik2006', 'molion120_s', 'skszydlatynk', 'jojosze', 'kolor1z', 'tysiaaa72<3', 'laurunia524', 'mleko222', 'AmiFrytka', 'PeridotGreen', 'bella12', 'staszek', 'matboy', 'werom', 'mega_men', 'Niewiadoma28', 'zozol222', 'wercia320', 'master_main', 'aniczex', 'Klaudia2006', 'Krzysztofk', 'atomuwka', 'Bilski_:)', 'jacek710', 'zaak11', 'gazela1', 'imperator', 'michaś', 'pyszny_serek', 'natalcia_xd', 'Gazela', 'milen', 'Krycha869', 'mart', 'macjen01', 'GodCzesio', 'Pandzia', 'Gwiazdka3322', 'olivia', 'K.G.B_kuba', 'niepokonany', 'ABDUL', 'kubaxs', 'kirk16', 'Michalcio5', 'kubabrandt', 'Allplayer', 'mats', 'tankbojowy', 'Miśka', 'xyhjxhaihaf', 'magdak', 'Kerel', 'szymo2okymo', 'oliwier2208', 'kami9l', 'skura', 'Sama_Rama', 'pan_kanapa', 'magdz98890', 'MaciosPRO_QX', 'trolek300', 'lolek900', 'Makosgra', 'hiperman', 'matbartek', 'Basia', 'zul123', 'Zulus55', 'goldeafds', 'Szymon7022', 'JHS666', 'robert.grabi', 'makapaka', 'mATEUSZ&aDI', 'Poniko', 'mdlp', 'matkierek', 'finner', 'VitexikonPL', 'Polak_123', 'polak', 'Jagoda', 'gówniarz', 'bolik123', 'LolisteRi', 'JoLpOXDGames', 'Hubert2006', 'kompi', 'balis@onet.e', 'Pisi', 'gerberek_11', 'sirolli', 'kalaplus1', 'awatar123456', 'ojirjbiubj', 'igusia', 'kalaplus', 'oskarito123', 'koteś=^^=', 'Skorzcakooo', 'magh', 'harleyquinn', 'KUBAXD', 'romrko', 'Tomaszek111', 'Chomiczkowa', 'lolpazdan', 'MikiToTenbio', 'MikiToTenNob', 'marta28', 'Wiktoria_miś', 'DomiKon', 'pawewefc', 'Loginek', 'Wojter', 'milo90', 'hexiu_pl', 'monisia', 'maksTOTAL', 'juju1234', 'Olaciaa', 'MardVaman', 'kiler', 'kaliczynia', 'kaliczyna', 'mat_geniusz', 'vesacz123456', 'natusia12', 'dominikadud', 'Patryk1231', 'rycerz_ren', 'Patka1345', 'UlaUrszula', 'karwiand', 'TURBOKOZAK', 'Orgi', 'lolp', 'zetka', 'REZERek', 'dzidkapl', 'XDXDXDXD', 'MROCZNA...', 'dima', 'vesacz123', 'klaudiśP', 'maniaplus', 'kolo691', 'kozak123321', 'Schadow', 'krispawlo', 'mewa009', 'mewa', 'niewiadomaK', 'kardamON', 'CzekBomba', 'dawid7dawid', 'dzikus_xd', 'kylo_ren', 'dawidek2008', 'xkatjaax', 'kuba45', 'harleyquinn1', 'szport123', 'asiakonikows', 'adamdziura', 'marcinop', 'MARVELA', 'marcinpum', 'slawomir.pie', 'nie_malina', 'marysia9165', 'Doktorek', 'Amcik', 'kamil16723', 'wi84', 'Ładna', 'varior00', 'Maruciak', 'wi83', 'nikikoko', 'domik', 'LaraCroft', 'Kiksterlol', 'legolas3356', '--OLIWIA--', 'AsiaSkowron1', 'potworek0125', 'SzYmI', 'Dzielna_<3', 'chiter', 'pustynia', 'ARCHIPL', 'amka0099', 'odlot_fryz', 'Jaśxd', 'Rafigd2', 'darizanka', 'platyna', 'Rghjrek', 'tojestemja', 'kakadu221', 'tobi2001', 'Dragonek', 'Dzielna_Jula', 'Rose__Wolf', 'zaak2200', 'Wernetka', 'slashman272', 'Ola@.matwars', 'bestfriends', 'MOCZKI', 'Matematyk321', 'bolololo1234', 'SLASHMAN27', 'Irina_555', 'inspiracja', 'Superusia', 'masterchef16', 'ignorek', 'KaLi110', 'panda1997', 'laxi135', 'DanolekYT', 'zosiasanosia', 'kozaczek', 'seweryn12345', 'Michu_12', 'Julia123', 'Maks', 'Damianlis@wp', 'niewidzalna', 'niewiadoma3', 'POMPA.TEAM', 'Petru', 'amik1', 'Pan_DE_BEST!', 'Luke2007PL', 'Ikonisia', 'lodomir12345', 'kolonati', 'Dominika(:', 'WarriorSnake', '$Hajs', 'stazi', 'kara78', 'Juluśka', 'william', 'Borkowa', 'bbx3tech190', 'hunter801', 'Łukasz_Kappa', 'Lilly', 'bastek', 'Kratu', 'FR3SH', 'lukrowy04', 'polakpolak12', 'jaaaaaaaaaaa', 'hubert######', 'prosek', 'V_mik', 'oskar_360', 'Mr.Klops', 'nunys098', 'nunys6996', 'mamkonto', 'Konrad12756', 'nunys69', 'maikel', 'SpinkaCapsel', 'Kolo', 'kedaska123', 'Q4_mil1337', 'kabanosik', 'bohater', 'Rezmiks', 'Dzemik1212', 'Slendieusz', 'kakuniso', 'mateusz22203', 'Kuba1451', 'mikius54aska', 'Fiuszbuszu', 'LJay', 'Madzia', 'Ala123454', 'zaki', 'artyk', 'olcia123', 'OSK_POWER', 'rodzicer', 'Pako', 'Zorro', 'OliwqaChan', 'karolonataxd', 'danielkuba', '♥♥♥PiO♥♥♥', 'polana123', 'dimitri', 'julcio', 'totodail', 'ziomziom', 'Justyna', 'Freekix', 'Adenozyna', 'karo246', 'czajka123', 'brajanxx', 'ksenia', 'Nikolas200', 'maskss', 'tomek-2006', 'janusz_seba', 'Adaś321', 'Nilonibo', 'kiniu232', 'Kasiakk65', 'Yusa', 'nikodem', 'kuba_gorowsk', 'hardkorPL', 'Hardkor', 'matlaska', 'erixon07', 'M4jCzU', 'donata_90', 'OriPL+israel', 'mat_lasska', 'radekwer', 'mati321', 'dosuarez', 'mokinkaskan', 'Darius', '-_SpeedeQ_-', 'kajpo', 'Piotruś', 'Yellow_As.', 'wiki8inati10', 'robertsponio', 'cleo8855', 'Kubixxxx1234', 'kilerleon', 'dj_doge', 'fw123', 'Procraft993', 'oli2008', 'Pokegość', 'king22', 'usia49', 'WERONIKAPE', 'pika_emi', 'kojar10', 'ronaldijos', 'OKI^_Gaming', 'wiekuisty', 'HubercikOSX', 'XAnnieX', 'matlena', 'kubao', 'MrocznaPaula', 'DzielnaJulka', 'Tymiks', 'Ksawiz', 'pierwyiasste', 'MatWertel', 'chard_koks', 'k4cpe08', 'pati2468augu', 'igol', 'daniel123', 'karinajabi'];
ile_imion = imiona.length;
gracze = [];
levele = [];
  while (gracze.length<4) {
      shot = Math.round(Math.random()*ile_imion);
      if (jQuery.inArray(imiona[shot],gracze)==-1) {
          gracze.push(imiona[shot]);
          levele.push(shot);
      }
      
  }

level1 = levele[0]%20;
level2 = levele[1]%20;
level3 = levele[2]%20;
level4 = levele[3]%20;

function sortNumber(a,b) {
  return a - b;
}
function asortNumber(a,b) {
  return b - a;
}
xn = 0; 
yn = 0;
limit = 10;
function los() {
        $('#zadanie').html('');
  // los
  var x = Math.round(Math.random()*limit);
  var y = Math.round(Math.random()*limit);
  var wynik = x*y;
  var tab = [wynik];
  var n = x*y;


  for (i=1;i<4;i++) {
    xn = Math.round(Math.random()*limit); yn = Math.round(Math.random()*limit); n = xn*yn;
    while (n==tab[i-1]) { xn = Math.round(Math.random()*limit); yn = Math.round(Math.random()*limit); n = xn*yn; }
    if (i==2) while (n==tab[i-2] || n==tab[i-1]) { xn = Math.round(Math.random()*limit); yn = Math.round(Math.random()*limit); n = xn*yn; }
    if (i==3) while (n==tab[i-3] || n==tab[i-2] || n==tab[i-1]) { xn = Math.round(Math.random()*limit); yn = Math.round(Math.random()*limit); n = xn*yn; }
    tab[i]=n;
    
    
  }
  tab.sort(sortNumber);

  

  // wyswietl los
  $('#zadanie').html(x + ' · ' + y + ' = ');
  $('#wynik').val(wynik);
  for (i=0;i<4;i++)
    $('#guziki').append('<span class="btn btn-matzoo btn-primary s45" style="min-width:18%" onclick="klik($(this))" value="'+tab[i]+'">'+tab[i]+'</span>');

}
function klik(em) {
    listen('bow');
  $('#odp').val((em).html());
  oblicz();
}
  function oblicz(){
  var dobre = $('#dobre').html();
  if($('#odp').val()==$('#wynik').val()) {
  
    $('#tresc').hide();
    $('#zle').hide();
    $('#dobrze').hide();
    $('#dobrze').fadeIn("fast");
  
    $('#odp').val('');
    $('#guziki').empty();
    
    dobre=parseInt(dobre)+1;
    los();
    
  }
  else {
    $('#tresc').hide();
    $('#dobrze').hide();
    $('#zle').hide();
    $('#zle').fadeIn("fast");
    $('#odp').val('');
    dobre=dobre-1;
  }

  $('#dobre').html(dobre);
}
//[2000,5000,8000,12000,12500,13500,25000],
czasy_tab = [
    [2000,4000,6000,9000,9500,10500,22000],
    [4000,16000,10000,12000,12500,13500,25000],
    [4000,16000,10000,12000,12500,13500,25000],
    [7000,12500,14000,17000,17500,18500,30000],
    [5000,11500,18000,24000,24500,25500,37000],
    [3000,9000,16000,19000,19500,20500,32000],
    [9000,19500,23000,29000,29500,30500,42000],
    
    [26000,66000,96000,134000,134500,135500,147000],
    [17000,52500,89000,127000,127500,128500,140000],
    [55000,71500,100000,124000,124500,125500,137000],
    [55000,71500,100000,124000,124500,125500,137000],
    [73000,99000,140000,179000,179500,180500,192000],
    [73000,99000,140000,179000,179500,180500,192000],
    [39000,69500,113000,129000,129500,130500,142000],
    [39000,69500,113000,129000,129500,130500,142000],
    
    [4000,6000,8000,12000,12500,13500,24000]    
];
czas = Math.round(Math.random()*5); 

nocka = [22,23,00,1,2,3,4,5];

data = new Date();
godzina = data.getHours();
if (jQuery.inArray(godzina,nocka)!=-1) {  
    czas = parseInt(czas)+5;
}

function start1() {
    
    login = $('#user_login').val();
    if (login.length==0) login = 'ja';
//          $.ajax({
//            type: "POST",
//            url: "../web/ajax.php",
//            data: "login=" + login + ""
//        });
    
    $('#login').html(login);
    $('#form_login').hide();
    $('#start').hide();
    $('#oczekiwanie').fadeIn();
    $('.gracze').fadeIn();
    $('#li1').fadeIn();
    $('#li2').delay(czasy_tab[czas][0]).fadeIn();
    $('#li3').delay(czasy_tab[czas][1]).fadeIn();
    $('#li4').delay(czasy_tab[czas][2]).fadeIn();
    $('#li5').delay(czasy_tab[czas][3]).fadeIn();
    $('#oczekiwanie').delay(czasy_tab[czas][4]).fadeOut();
    if ($('#is_music').val() == 'on') {
        listen('reload');
        window.setTimeout("listen('reload')", czasy_tab[czas][0]);
        window.setTimeout("listen('reload')", czasy_tab[czas][1]);
        window.setTimeout("listen('reload')", czasy_tab[czas][2]);
        window.setTimeout("listen('reload')", czasy_tab[czas][3]);        
    }
    

    window.setTimeout("show_waiting()", czasy_tab[czas][5]);
    window.setTimeout("start_click()",czasy_tab[czas][6]);
  
    
    //$('.waiting').fadeIn();
    //time = window.setInterval("waiting()", 1000);
    //start_click();

}

function show_waiting() {
      $('.waiting').fadeIn();
      if ($('#is_music').val() == 'on') { listen('gunshot'); }
    
      timeW = window.setInterval("waiting()", 1000);
}

function start_click() {
    //window.clearInterval(time);
    $('#oczekiwanie').fadeOut();
    gameTimer = window.setInterval("executeTimer()", 1000);
    los();
/*
inni_tab = [
    [800,1000,1200,1300,2,3,2,3],
    [1000,800,1200,500,2,3,2,3],
    [800,1800,1200,1300,2,5,2,3],
    [800,1000,600,700,2,2,2,2],
    [600,1500,1200,1000,2,3,2,3],
    [800,1000,900,1000,2,2,2,2],
    [700,1500,1200,1600,6,3,4,3],
    [800,1000,1200,1300,4,2,2,3],
    [800,700,1200,1000,4,3,2,5],
    [800,1000,700,1300,4,3,2,8],
    [800,1000,1700,1300,2,2,2,3]
];
*/
inni_tab = [
    [401,1,45],
    [801,1,22],
    [1101,1,12],
    [1301,1,20],    
    [601,2,15],
    [777,2,15],
    [845,2,15],
    [901,2,14],
    [1101,2,14],
    [1208,2,12],
    [1307,2,8],
    [1401,2,11],
    [1601,2,11],
    [902,3,13],
    [1211,3,11],
    [1130,3,12],
    [1070,3,12],
    [1290,3,10],
    [1356,4,8],
    [1302,4,6],
    [1301,5,8],
    [1501,5,10]
]; 

    time1 = window.setInterval("executeGracz1()", inni_tab[level1][0]);
    time2 = window.setInterval("executeGracz2()", inni_tab[level2][0]);
    time3 = window.setInterval("executeGracz3()", inni_tab[level3][0]);
    time4 = window.setInterval("executeGracz4()", inni_tab[level4][0]);
}

function executeGracz1() {
    random = Math.round(Math.random()*inni_tab[level1][1]);
    if (random==1)  {
        gracz1 = parseInt($('#gracz1').html());
        random2 = Math.round(Math.random()*inni_tab[level1][2]);
        if (random2==1) gracz1 = gracz1-1; else gracz1 = gracz1+1;
        $('#gracz1').html(gracz1);
    }
}

function executeGracz2() {
    random = Math.round(Math.random()*inni_tab[level2][1]);
    if (random==1)  {
        gracz2 = parseInt($('#gracz2').html());
        random2 = Math.round(Math.random()*inni_tab[level2][2]);
        if (random2==1) gracz2 = gracz2-1; else gracz2 = gracz2+1;
        $('#gracz2').html(gracz2);
    }
}

function executeGracz3() {
    random = Math.round(Math.random()*inni_tab[level3][1]);
    if (random==1)  {
        gracz3 = parseInt($('#gracz3').html());
        random2 = Math.round(Math.random()*inni_tab[level3][2]);
        if (random2==1) gracz3 = gracz3-1; else gracz3 = gracz3+1;
        $('#gracz3').html(gracz3);
    }
}

function executeGracz4() {
    random = Math.round(Math.random()*inni_tab[level4][1]);
    if (random==1)  {
        gracz4 = parseInt($('#gracz4').html());
        random2 = Math.round(Math.random()*inni_tab[level4][2]);
        if (random2==1) gracz4 = gracz4-1; else gracz4 = gracz4+1;
        $('#gracz4').html(gracz4);
    }
}

function executeTimer()
{
   sek = parseInt(sek);
   min = parseInt(min);
  
  if (sek > 0 || min >0)
  {
    if (sek > 0) {

      sek = sek - 1;
      if (sek < 10) {
        $("#sec").text('0'+sek);
      }
      else {
        $("#sec").text(sek);
      }
      return false;
    }
    else {
      min = min - 1;
      sek = 59;
      $("#min").text('0'+min);
      $("#sec").text(sek);
    }
  }
  else {
    $('#zle').hide();
    $('#dobrze').hide();
    window.clearInterval(gameTimer);
    window.clearInterval(time1);
    window.clearInterval(time2);
    window.clearInterval(time3);
    window.clearInterval(time4);
    done = 1;
    $('.gracze').removeClass('col-sm-4');
    $('.gracze').addClass('col-sm-6');
    $('.gracze').addClass('big');
    $('#guziki').hide();
    if ($('#is_music').val() == 'on') { listen('ovation'); }
    $('#zadanie').html($('#koniec').html());
    
    names = [];
    scores = [];
    $('#gracze li').each(function(){
        
        imie = $(this).find('.imie').html();
        punkty = $(this).find('.points').html();
        names.push(imie);
        scores.push(punkty);
  
        
    });
    login = names[0];
    newscores = [];
    for (i=0;i<5;i++) {
    newscores.push(scores[i]);
    }
    scores.sort(asortNumber);
    
    totalnames = [];
    for (i=0;i<5;i++) {
        point = scores[i];
        for (a=0;a<5;a++) {
            if (newscores[a]==point && jQuery.inArray(names[a],totalnames)==-1) {
                name = names[a];   
            }
            
        }
        totalnames.push(name);
    }
    $('#gracze').html('');
    $('.gracze').hide();
    for (a=0;a<5;a++) {
        val=a+1;
        tresc='<li';
        if (totalnames[a]==login) tresc=tresc+' class="ja" ';
        tresc=tresc+' value="'+val+'" id="li'+val+'" style="display: none"><span class="imie">'+totalnames[a]+'</span> <span id="gracz1" class="pull-right points">'+scores[a]+'</span></li>';
        $('#gracze').append(tresc);
        
    }
    $('#endmecz').delay(2000).fadeOut('slow');
    $('.gracze').delay(3500).fadeIn();
    $('#li1').delay(5000).fadeIn();
    $('#li2').delay(8000).fadeIn();
    $('#li3').delay(11000).fadeIn();
    $('#li4').delay(14000).fadeIn();
    $('#li5').delay(17000).fadeIn();
    if ($('#is_music').val() == 'on') {
        window.setTimeout("listen('laser')", 5000);    
        window.setTimeout("listen('laser')", 8000);    
        window.setTimeout("listen('laser')", 11000);    
        window.setTimeout("listen('laser')", 14000);    
        window.setTimeout("listen('laser')", 17000);    
        if (totalnames[0]==login) window.setTimeout("listen('win')", 18000);            
    }
    $('#koniec2').delay(20000).fadeIn();

  }
  
}
function waiting()
{
  if ($('#is_music').val() == 'on') { listen('gunshot'); }
   za = parseInt(za);
   
  if (za >= 1 ) {
      za = za - 1;
      $("#za").hide();
      $("#za").text(za);
      $("#za").fadeIn();
      return false;
  } else {
      $('.waiting').hide();  
      window.clearInterval(timeW);
console.debug('koniec waiting');
  }
  
}

function listen(sound) {
    audio = new Audio('../upload/'+sound+'.mp3');
    audio.play();
}


$(document).ready(function(){
    
    $('#task_area').css('min-heigth','430px');
    $('#content').css('min-heigth','430px');
    

    /*
$('#li2').html(gracze[0]);
$('#li3').html(gracze[1]);
$('#li4').html(gracze[2]);
$('#li5').html(gracze[3]);
$('#level1').html(level1);
$('#level2').html(level2);
$('#level3').html(level3);
$('#level4').html(level4);
  */

});


