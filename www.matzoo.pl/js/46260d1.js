sek = '00';
min = '03'; 
za = '10'; 

imiona = ['seweryn123', 'MATGENIUSZXD', 'Batman40', 'Gram.Mania', 'Idaxxx', 'Idixxx', 'mat_kokos', 'Michałek_293', 'zuzanka', '0marysia', 'kotelus222', 'ami07', 'PatrykXman', 'polakmat', 'KUBAAA', 'crafterek', 'x_ninja_2000', 'Emusia123456', 'madziamadzia', 'Gruszka', 'macikowski12', 'Gabi_i_Wiki', 'Ajra_2005', 'Ksszymeg@na8', 'Polko', 'bohaterp300', 'Wikipiki1234', 'hihi', '4klasa', 'judasz123', 'tygryska25', 'lanczer', 'Awanel', 'michal232', 'dzielna_123', 'kem712', 'bartek232', 'jestem_super', 'ww23', 'KemYT', 'Weronika2006', 'remikol120', 'fabianrycerz', 'lila12345', 'sokołek', '_truskawka_', 'dyzio12', 'truskawka', '123456779988', 'Patrycel', 'Bartlan', 'judasz', 'Jonas', 'Transformers', 'Jonas555', 'JINX', 'Piotr1225', 'bartekop222', 'plio360', 'oliffka', 'gabben10', 'kejek', 'pati12301', 'DOMINIKAAA', '66Mati66', 'melkamelka', 'Jakubosek', 'juleczka', 'KonraD2oo5', 'ewa1443', 'amka', 'jednorożec', 'matinoga1234', 'patryczek', 'pogoń1232', 'pogoń', 'mixon1234567', 'qntex123', 'AmelSwimR', 'lola-dziunia', 'emka27', 'Matematyk121', 'Matmowy123', 'Matma_:D', 'alekssuper12', 'Hulk', 'Nacia', 'artur112', 'ziomek2003', 'Bartek_forys', 'mateusz1402', 'LOLOLOOO', 'DobraMatma<3', 'krzysio', 'Kacper.R', 'oliwer', 'szharry', 'Asara', 'kinga_b11@op', 'albert_qwert', 'Czesław_xD', 'Sayna_Ania', 'Bobek_Sky', 'Basa', 'kris', 'franio', 'Korneljo', 'OKU_MANY', 'Pan_erpe', 'Olaja409', 'EdXSheeran<3', 'Queen.PL', 'tomato989', 'Pazdrik', 'Pestka', 'pokemoninja', 'papryk', 'MRSzandor', 'pepich123', 'Patrycja12', 'Kubas_555555', 'Stimi', 'Filip030106', 'dawid2006', 'Filip2006', 'Gratka', 'lodziaam', 'Olcia15', 'Aniela123456', 'Adasek2006', 'tomili', 'Flaflak', 'Oliwka123kot', 'nikt2004@', 'michal2006', 'bartek123', 'Super_Girl', 'Super_Natka', 'minecraft_na', 'eryk2005', 'zoli126', 'sailas752', 'super_osiem', 'aras221', 'aras123', 'mixon', 'Matemorfus', 'kuba_no_skil', 'pomagier', 'hjklpo', 'Jonathanen26', 'jar321', 'jaro92', 'Wojcieszek', 'ElsarGamingX', 'aga0305', 'opala', 'matziom', 'Ania.Dolat12', 'mark', 'portekinek', '1maksym1', 'antekoniszcz', 'Agrix', 'TRASTIAN', 'super_nati', 'Stokrotka', 'Ciapek202', 'idula10', 'Szmon_MAT', 'vSpiderYT', 'Zoska543', 'GDFFFFFFFFFF', 'nkmitc12AyJ1', 'MISTRZU_XD', 'masia', 'dżefaj', 'Dominik1', 'To_ja_xD...', 'Simonex22', 'MATzabójca', 'pawelon', 'Alis100k', 'hvbru', 'olowo', 'fdu5e3', '♥Majcia♥', 'os_kar', 'bylejaki', 'nowy', 'Sebek', 'AmciaKamcia', 'majeczka_123', 'Matematyka~-', 'Matematyka', 'Ania☺', 'mordka376', 'kacper123456', 'Koleszka', 'Stanley__', 'marek.bednar', 'koniczynka', 'szymi124', '0010', 'Amykanuu', 'Amykanu', '22esti22', 'piesel', 'gryf_smierci', 'Retoboss', 'frodo', '12345678910', 'Ejszar146', 'Olka78974', 'maksio2003', 'PusiaPlayer', 'mania33e', 'poprosturuda', 'TexF', 'SoFt', 'Olciaaa', 'na3lka', 'kaga11', 'Kuba', 'Crazy_Wika', 'kubsonasona', 'pepcio34', 'Alolo123321', 'PAPLIS', 'Hi_Im_Bob', 'janusz123', 'Strollowany', 'Wektorus', 'Anka8024', 'Jasiok_87', 'szczureQ_PL', 'zuzu734', 'AlexMel', 'wikoliza09', 'Zenek', 'Adamx112', 'Chicken_girl', 'Zuzkaa', '[@QBX@]', 'bos_six', 'asia1993', 'Julia2008!', 'ariagra', 'jakamaka', 'MatJula', 'Maciej2314', 'Victoria_Pix', 'Królewna', 'Wikitoria', 'matsłit', 'kapitan_pier', 'ash1000x', 'ankalanka1', 'ania103M', 'wikimiki3217', 'kicia_8679', 'Zuzia12345', 'pandzioszka', 'julka53u', 'matematyk1', 'piotrusgosc', 'Dertafyx11', 'star', 'MMMM', 'karolekmmmmm', 'Piotr45', 'matistar12', 'NaukaToKlucz', 'rafaello0677', 'kamillo', 'kapisia', 'ALEKSANDRA', 'oliwierkosi', 'bartek12345', 'alex06', 'Tobiś', 'Styrefe', 'miałczuś135', 'leman', 'SDDSSDSD', 'reko001', 'marceloq', 'MrHUtron', 'pawelkoxx', 'gabcia', 'Ola_i_Oliwia', 'deadpoolaldi', 'kacperooo12', 'Mistrznetu', 'ruda15', 'filipczak120', 'natka144', 'NIKO', 'karolt', 'IziMatPL', 'TheOnlyMe', 'Reven', 'Cool_gość', 'Płomyczek', 'domek', 'Maja321', 'CESARZOWA_J', 'ZDZISIU', 'superliczyk', 'Hermiona', 'Dominik321', 'Domix0n', 'lukasz2930', 'JuliaBe2008', 'nikihorse14', 'login™', 'Kira', 'nkmitc', 'krzepka', 'MKSek', 'aga1234', 'Pieselek', 'julia_smoroń', 'Mistrz_2.0', 'Matymatka', 'KRYSTIE', 'felicjaxdddd', 'usemeczka', 'zielonka', 'amelia2009', 'joteczka1234', 'Patrycja_Hac', 'minecraft123', 'dpiecha', 'natka', 'X_Hulk', 'Aniela', 'Kate', 'lusia_kocham', 'Olcio', 'Ziemaniak', 'MatZIemniak', 'Yuuki', 'czerwona12', 'bartekplk', 'kedzierskam', 'kot567', 'niemiec12', 'piterzosia12', 'Rondelek', 'Antek_07', 'MATwładca', 'mikimaz', 'TestMan', 'anka', 'Bartek132PL', 'filipek', 'dominik84', 'dominika_k', 'Patryk101', 'Małgosia123', 'HejPryk', 'friends', 'kornelia10', 'filip_wróbel', 'Ogrodniczek', 'kacperek', 'marysiaxd', 'pawel1', 'kubabuba', 'kuba4123', 'Evelina', 'FOGGIN213', 'kokos3', 'kokos12345', 'miłosz', 'pumpuś', 'Bojowy', 'Słodka_Nasti', 'janek123@wp.', 'WiktorQa123', '_madzixis_', 'lol486555015', 'mapuman', 'abrakadabra', 'ciemnaPani19', 'ŚWIAT_TOSTÓW', 'super_ósemka', 'milosz1', 'gabrysia_110', 'Didżejka_123', 'Hubertuiower', 'ania1', 'steelman9111', 'adas47', 'bartekol_mat', 'kinga1', 'natalia1', 'marysiaxd12', 'shokai', 'Kavper', 'Majusia_real', 'Majusia', 'HermaeusMora', 'dzesika_xddd', 'deska_xddd', 'Phillip', 'kotakot', 'igor1228', 'Wholek', 'marysia.l11', 'MARSZAL22', 'marcelo', 'kam123', 'Marcelina111', 'emilka21200', 'Anitaaaaa', 'ProPocieszyn', 'bartekozak', 'POGROMCA', 'seba12345', 'MISIA_master', 'KOXU330', 'wiki23', 'nadiaxx1', 'franekxD', 'kuboros', 'ŚWIECZKA', 'NUTELLA', 'kika212', 'Nerkussik', 'julka375', 'Pocieszynek3', 'monikabrz13', 'Viperek76', 'monikabrz123', 'Wisnia_253', 'Mxrtx13', 'Iwona_04', 'Olcix13', 'viperek_76', 'Blauhair', 'Paula0509', 'Galiba', 'krajenka', 'mirka', 'haker123', 'Szwedor', 'MichałFM', 'mikolaj', 'la_SZYMSON', 'mmimikol@wip', 'ziółko', 'Karina2006', 'Karyna2006', 'gilonog', 'Mięśniak', 'Miszorek11', 'lolosdpl', 'mali007', 'TraSZa', 'kewin', 'koki1262', 'RiceWolf', 'jasiu2006', 'minka_aimka', 'Negatywny', 'Lolekxd', 'pawa', 'puzior', 'anulka500', 'SM_20', 'Motyl6542', 'franceska245', 'OLCIAK', 'MacioGacio12', 'patkida', 'lukasz2006', 'Rysiek', 'michaluks', 'Piotrekowski', 'wika3231', 'Banaszczyk13', 'milinka', 'bartek123gry', 'BAYMAY', 'ironmen30', 'sergiusz', 'dylan12f', 'CDXD', 'nati_nati', 'abcd123', 'maciekzanjat', 'skk16', 'Nemezis', 'Julczejczyk', 'adam2115', 'KOKO_30', 'PIOTRIX', 'xDRAGONLOREx', 'karn_wiszur'];
ile_imion = imiona.length;
gracze = [];
levele = [];
  while (gracze.length<4) {
      shot = Math.round(Math.random()*ile_imion);
      if (jQuery.inArray(imiona[shot],gracze)==-1) {
          gracze.push(imiona[shot]);
          levele.push(shot);
      }
      
  }

level1 = levele[0]%20;
level2 = levele[1]%20;
level3 = levele[2]%20;
level4 = levele[3]%20;

function sortNumber(a,b) {
  return a - b;
}
function asortNumber(a,b) {
  return b - a;
}
xn = 0; 
yn = 0;
limit = 10;
function los() {
        $('#zadanie').html('');
  // los
  var x = Math.round(Math.random()*limit);
  var y = Math.round(Math.random()*limit);
  var wynik = x*y;
  var tab = [wynik];
  var n = x*y;


  for (i=1;i<4;i++) {
    xn = Math.round(Math.random()*limit); yn = Math.round(Math.random()*limit); n = xn*yn;
    while (n==tab[i-1]) { xn = Math.round(Math.random()*limit); yn = Math.round(Math.random()*limit); n = xn*yn; }
    if (i==2) while (n==tab[i-2] || n==tab[i-1]) { xn = Math.round(Math.random()*limit); yn = Math.round(Math.random()*limit); n = xn*yn; }
    if (i==3) while (n==tab[i-3] || n==tab[i-2] || n==tab[i-1]) { xn = Math.round(Math.random()*limit); yn = Math.round(Math.random()*limit); n = xn*yn; }
    tab[i]=n;
    
    
  }
  tab.sort(sortNumber);

  

  // wyswietl los
  $('#zadanie').html(x + ' · ' + y + ' = ');
  $('#wynik').val(wynik);
  for (i=0;i<4;i++)
    $('#guziki').append('<span class="btn btn-matzoo btn-primary s45" style="min-width:18%" onclick="klik($(this))" value="'+tab[i]+'">'+tab[i]+'</span>');

}
function klik(em) {
    listen('bow');
  $('#odp').val((em).html());
  oblicz();
}
  function oblicz(){
  var dobre = $('#dobre').html();
  if($('#odp').val()==$('#wynik').val()) {
  
    $('#tresc').hide();
    $('#zle').hide();
    $('#dobrze').hide();
    $('#dobrze').fadeIn("fast");
  
    $('#odp').val('');
    $('#guziki').empty();
    
    dobre=parseInt(dobre)+1;
    los();
    
  }
  else {
    $('#tresc').hide();
    $('#dobrze').hide();
    $('#zle').hide();
    $('#zle').fadeIn("fast");
    $('#odp').val('');
    dobre=dobre-1;
  }

  $('#dobre').html(dobre);
}
//[2000,5000,8000,12000,12500,13500,25000],
czasy_tab = [
    [2000,4000,6000,9000,9500,10500,22000],
    [4000,16000,10000,12000,12500,13500,25000],
    [4000,16000,10000,12000,12500,13500,25000],
    [7000,12500,14000,17000,17500,18500,30000],
    [5000,11500,18000,24000,24500,25500,37000],
    [3000,9000,16000,19000,19500,20500,32000],
    [9000,19500,23000,29000,29500,30500,42000],
    
    [26000,66000,96000,134000,134500,135500,147000],
    [17000,52500,89000,127000,127500,128500,140000],
    [55000,71500,100000,124000,124500,125500,137000],
    [55000,71500,100000,124000,124500,125500,137000],
    [73000,99000,140000,179000,179500,180500,192000],
    [73000,99000,140000,179000,179500,180500,192000],
    [39000,69500,113000,129000,129500,130500,142000],
    [39000,69500,113000,129000,129500,130500,142000],
    
    [4000,6000,8000,12000,12500,13500,24000]    
];
czas = Math.round(Math.random()*5); 

nocka = [22,23,00,1,2,3,4,5];

data = new Date();
godzina = data.getHours();
if (jQuery.inArray(godzina,nocka)!=-1) {  
    czas = parseInt(czas)+5;
}

function start1() {
    
    login = $('#user_login').val();
    if (login.length==0) login = 'ja';
//          $.ajax({
//            type: "POST",
//            url: "../web/ajax.php",
//            data: "login=" + login + ""
//        });
    
    $('#login').html(login);
    $('#form_login').hide();
    $('#start').hide();
    $('#oczekiwanie').fadeIn();
    $('.gracze').fadeIn();
    $('#li1').fadeIn();
    $('#li2').delay(czasy_tab[czas][0]).fadeIn();
    $('#li3').delay(czasy_tab[czas][1]).fadeIn();
    $('#li4').delay(czasy_tab[czas][2]).fadeIn();
    $('#li5').delay(czasy_tab[czas][3]).fadeIn();
    $('#oczekiwanie').delay(czasy_tab[czas][4]).fadeOut();
    if ($('#is_music').val() == 'on') {
        listen('reload');
        window.setTimeout("listen('reload')", czasy_tab[czas][0]);
        window.setTimeout("listen('reload')", czasy_tab[czas][1]);
        window.setTimeout("listen('reload')", czasy_tab[czas][2]);
        window.setTimeout("listen('reload')", czasy_tab[czas][3]);        
    }
    

    window.setTimeout("show_waiting()", czasy_tab[czas][5]);
    window.setTimeout("start_click()",czasy_tab[czas][6]);
  
    
    //$('.waiting').fadeIn();
    //time = window.setInterval("waiting()", 1000);
    //start_click();

}

function show_waiting() {
      $('.waiting').fadeIn();
      if ($('#is_music').val() == 'on') { listen('gunshot'); }
    
      timeW = window.setInterval("waiting()", 1000);
}

function start_click() {
    //window.clearInterval(time);
    $('#oczekiwanie').fadeOut();
    gameTimer = window.setInterval("executeTimer()", 1000);
    los();
/*
inni_tab = [
    [800,1000,1200,1300,2,3,2,3],
    [1000,800,1200,500,2,3,2,3],
    [800,1800,1200,1300,2,5,2,3],
    [800,1000,600,700,2,2,2,2],
    [600,1500,1200,1000,2,3,2,3],
    [800,1000,900,1000,2,2,2,2],
    [700,1500,1200,1600,6,3,4,3],
    [800,1000,1200,1300,4,2,2,3],
    [800,700,1200,1000,4,3,2,5],
    [800,1000,700,1300,4,3,2,8],
    [800,1000,1700,1300,2,2,2,3]
];
*/
inni_tab = [
    [401,1,45],
    [801,1,22],
    [1101,1,12],
    [1301,1,20],    
    [601,2,15],
    [777,2,15],
    [845,2,15],
    [901,2,14],
    [1101,2,14],
    [1208,2,12],
    [1307,2,8],
    [1401,2,11],
    [1601,2,11],
    [902,3,13],
    [1211,3,11],
    [1130,3,12],
    [1070,3,12],
    [1290,3,10],
    [1356,4,8],
    [1302,4,6],
    [1301,5,8],
    [1501,5,10]
]; 

    time1 = window.setInterval("executeGracz1()", inni_tab[level1][0]);
    time2 = window.setInterval("executeGracz2()", inni_tab[level2][0]);
    time3 = window.setInterval("executeGracz3()", inni_tab[level3][0]);
    time4 = window.setInterval("executeGracz4()", inni_tab[level4][0]);
}

function executeGracz1() {
    random = Math.round(Math.random()*inni_tab[level1][1]);
    if (random==1)  {
        gracz1 = parseInt($('#gracz1').html());
        random2 = Math.round(Math.random()*inni_tab[level1][2]);
        if (random2==1) gracz1 = gracz1-1; else gracz1 = gracz1+1;
        $('#gracz1').html(gracz1);
    }
}

function executeGracz2() {
    random = Math.round(Math.random()*inni_tab[level2][1]);
    if (random==1)  {
        gracz2 = parseInt($('#gracz2').html());
        random2 = Math.round(Math.random()*inni_tab[level2][2]);
        if (random2==1) gracz2 = gracz2-1; else gracz2 = gracz2+1;
        $('#gracz2').html(gracz2);
    }
}

function executeGracz3() {
    random = Math.round(Math.random()*inni_tab[level3][1]);
    if (random==1)  {
        gracz3 = parseInt($('#gracz3').html());
        random2 = Math.round(Math.random()*inni_tab[level3][2]);
        if (random2==1) gracz3 = gracz3-1; else gracz3 = gracz3+1;
        $('#gracz3').html(gracz3);
    }
}

function executeGracz4() {
    random = Math.round(Math.random()*inni_tab[level4][1]);
    if (random==1)  {
        gracz4 = parseInt($('#gracz4').html());
        random2 = Math.round(Math.random()*inni_tab[level4][2]);
        if (random2==1) gracz4 = gracz4-1; else gracz4 = gracz4+1;
        $('#gracz4').html(gracz4);
    }
}

function executeTimer()
{
   sek = parseInt(sek);
   min = parseInt(min);
  
  if (sek > 0 || min >0)
  {
    if (sek > 0) {

      sek = sek - 1;
      if (sek < 10) {
        $("#sec").text('0'+sek);
      }
      else {
        $("#sec").text(sek);
      }
      return false;
    }
    else {
      min = min - 1;
      sek = 59;
      $("#min").text('0'+min);
      $("#sec").text(sek);
    }
  }
  else {
    $('#zle').hide();
    $('#dobrze').hide();
    window.clearInterval(gameTimer);
    window.clearInterval(time1);
    window.clearInterval(time2);
    window.clearInterval(time3);
    window.clearInterval(time4);
    done = 1;
    $('.gracze').removeClass('col-sm-4');
    $('.gracze').addClass('col-sm-6');
    $('.gracze').addClass('big');
    $('#guziki').hide();
    if ($('#is_music').val() == 'on') { listen('ovation'); }
    $('#zadanie').html($('#koniec').html());
    
    names = [];
    scores = [];
    $('#gracze li').each(function(){
        
        imie = $(this).find('.imie').html();
        punkty = $(this).find('.points').html();
        names.push(imie);
        scores.push(punkty);
  
        
    });
    login = names[0];
    newscores = [];
    for (i=0;i<5;i++) {
    newscores.push(scores[i]);
    }
    scores.sort(asortNumber);
    
    totalnames = [];
    for (i=0;i<5;i++) {
        point = scores[i];
        for (a=0;a<5;a++) {
            if (newscores[a]==point && jQuery.inArray(names[a],totalnames)==-1) {
                name = names[a];   
            }
            
        }
        totalnames.push(name);
    }
    $('#gracze').html('');
    $('.gracze').hide();
    for (a=0;a<5;a++) {
        val=a+1;
        tresc='<li';
        if (totalnames[a]==login) tresc=tresc+' class="ja" ';
        tresc=tresc+' value="'+val+'" id="li'+val+'" style="display: none"><span class="imie">'+totalnames[a]+'</span> <span id="gracz1" class="pull-right points">'+scores[a]+'</span></li>';
        $('#gracze').append(tresc);
        
    }
    $('#endmecz').delay(2000).fadeOut('slow');
    $('.gracze').delay(3500).fadeIn();
    $('#li1').delay(5000).fadeIn();
    $('#li2').delay(8000).fadeIn();
    $('#li3').delay(11000).fadeIn();
    $('#li4').delay(14000).fadeIn();
    $('#li5').delay(17000).fadeIn();
    if ($('#is_music').val() == 'on') {
        window.setTimeout("listen('laser')", 5000);    
        window.setTimeout("listen('laser')", 8000);    
        window.setTimeout("listen('laser')", 11000);    
        window.setTimeout("listen('laser')", 14000);    
        window.setTimeout("listen('laser')", 17000);    
        if (totalnames[0]==login) window.setTimeout("listen('win')", 18000);            
    }
    $('#koniec2').delay(20000).fadeIn();

  }
  
}
function waiting()
{
  if ($('#is_music').val() == 'on') { listen('gunshot'); }
   za = parseInt(za);
   
  if (za >= 1 ) {
      za = za - 1;
      $("#za").hide();
      $("#za").text(za);
      $("#za").fadeIn();
      return false;
  } else {
      $('.waiting').hide();  
      window.clearInterval(timeW);
console.debug('koniec waiting');
  }
  
}

function listen(sound) {
    audio = new Audio('../upload/'+sound+'.mp3');
    audio.play();
}


$(document).ready(function(){
    
    $('#task_area').css('min-heigth','430px');
    $('#content').css('min-heigth','430px');
    

    /*
$('#li2').html(gracze[0]);
$('#li3').html(gracze[1]);
$('#li4').html(gracze[2]);
$('#li5').html(gracze[3]);
$('#level1').html(level1);
$('#level2').html(level2);
$('#level3').html(level3);
$('#level4').html(level4);
  */

});


